<!DOCTYPE html><html lang="en-US"><head><meta charset="UTF-8"><title>Bash rc and profile | 与你同在</title><meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1,maximum-scale=5,viewport-fit=cover"><meta http-equiv="X-UA-Compatible" content="IE=edge"><link rel="canonical" href="https://youya.org/2017/09/23/bash-rc-and-profile/"><link rel="alternate" href="/atom.xml" title="与你同在" type="application/atom+xml"><link rel="shortcut icon" href="/favicon.ico"><link rel="stylesheet" href="/css/style.css"><meta name="generator" content="Hexo 5.4.0"></head><body class="body"><div class="container container--outer"><header class="header"><div class="container"><div class="logo"><a class="logo__link" href="/" title="与你同在" rel="home"><div class="logo__title">与你同在</div><div class="logo__tagline">展示生活的美好！MY LIFE, MY STYLE.</div></a></div><nav class="menu"><button class="menu__btn" aria-haspopup="true" aria-expanded="false" tabindex="0"><span class="menu__btn-title" tabindex="-1">Menu</span></button><ul class="menu__list"><li class="menu__item"><a class="menu__link" href="/"><span class="menu__text">Home</span></a></li><li class="menu__item"><a class="menu__link" href="/about/"><span class="menu__text">About</span></a></li><li class="menu__item"><a class="menu__link" href="/archives/"><span class="menu__text">Archives</span></a></li><li class="menu__item"><a class="menu__link" target="_blank" rel="noopener" href="https://t.me/s/youya"><span class="menu__text">Timeline</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class="primary"><main class="main" role="main"><article class="post"><header class="post__header"><h1 class="post__title">Bash rc and profile</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg> <time class="meta__text" datetime="2017-09-23">2017-09-23</time></div></div></header><div class="content post__content clearfix"><p>Bash is an sh-compatible command language interpreter that executes commands read from the standard input or from a file. It has following rc and profile files, the files begain with <code>~</code> is the user level files, the content inside only effective for the user.</p><span id="more"></span><ul><li>/etc/profile</li><li>/etc/bash.bashrc or /etc/bashrc</li><li>/etc/bash.bash.logout</li><li>~/.bash_profile</li><li>~/.bashrc</li><li>~/.bash_logout</li><li>~/.inputrc</li></ul><h2 id="Invocation"><a href="#Invocation" class="headerlink" title="Invocation"></a>Invocation</h2><p>When you run bash as interactive login shell or as a non-interactive shell with <code>--login</code> option, it first reads and executes commands from the file <code>/etc/profile</code>, after this it looks for <code>~/.bash_profile</code>, <code>~/.bash_login</code> and <code>~/.profile</code>, this is the order. An interactive login shell can be invoked by a ssh login.</p><p>But as my test on Ubuntu/CentOS, it will also looks for <code>~/.bashrc</code> if these three files do not exist, in most Linux distributions there are no <code>.bash_profile</code>, <code>.bash_login</code> and <code>.profile</code>. If <code>.bash_profile</code> exist, the <code>.bashrc</code> file will be not read and executed. So my suggestion is do not create <code>.bash_profile</code> in your $HOME directory.</p><p>When you run bash as interactive shell that is not a login shell, it reads and executes command from <code>/etc/bash.bashrc</code> and <code>~/.bashrc</code>.</p><p>In most Linux distribution, <code>/etc/profile</code> will invoke <code>/etc/bash.bashrc</code> and <code>/etc/profile.d/*.sh</code> or <code>/etc/bash.bashrc</code> invokes <code>/etc/profile.d/*.sh</code>, so mostly you will not feel different in interactive login shell and interactive no-login shell.</p><p>If you have questions about Bash, you can simply run <code>man bash</code> and find the answers.</p><h2 id="Bash-completion"><a href="#Bash-completion" class="headerlink" title="Bash completion"></a>Bash completion</h2><p>There is a package bash-completion, it used to auto complete your program subcommands and arguments. If you want to auto complete your program you can simply put a complete file under <code>/etc/bash_completeion.d</code>. It will be invoked by <code>/etc/profile.d/bash_completion.sh</code> indirectly.</p><h2 id="Bash-environment"><a href="#Bash-environment" class="headerlink" title="Bash environment"></a>Bash environment</h2><p>If your program is installed in non-standard system directory like <code>/opt/your_prog</code>, your program commands and libraries can’t be used without the prefix, so you need to add them to <code>PATH</code> and <code>LD_LIBRARY_PATH</code>. You can simply create a file <code>/etc/profile.d/your_prog.sh</code>, the content is very like following:</p><pre><code class="hljs plain">#!&#x2F;bin&#x2F;bash

export PATH&#x3D;$PATH:&#x2F;opt&#x2F;your_prog&#x2F;bin
export LD_LIBRARY_PATH&#x3D;$LD_LIBRARY_PATH:&#x2F;opt&#x2F;your_prog&#x2F;lib
export PYTHONPATH&#x3D;&#x2F;opt&#x2F;your_prog&#x2F;python2.7&#x2F;site-packages</code></pre><h2 id="A-little-more"><a href="#A-little-more" class="headerlink" title="A little more"></a>A little more</h2><p>The <code>rc</code> in Linux stands for <code>run commands</code>.</p><p><a href="http://superuser.com/questions/173165/what-does-the-rc-in-bashrc-etc-mean" target="_blank" rel="noopener external nofollow noreferrer">http://superuser.com/questions/173165/what-does-the-rc-in-bashrc-etc-mean</a></p></div><footer class="post__footer"><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5 0 11V3C0 1.5.8.8.8.8S1.5 0 3 0h8c1.5 0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/></svg><ul class="tags__list"><li class="tags__item"><a class="tags__link btn" href="/tags/bash/" rel="tag">Bash</a></li><li class="tags__item"><a class="tags__link btn" href="/tags/shell/" rel="tag">Shell</a></li><li class="tags__item"><a class="tags__link btn" href="/tags/ubuntu/" rel="tag">Ubuntu</a></li></ul></div></footer></article></main><nav class="pager flex"><div class="pager__item pager__item--prev"><a class="pager__link" href="/2017/09/30/timeline/" rel="prev"><span class="pager__subtitle">«&thinsp;Previous</span><p class="pager__title">闲言碎语-201709</p></a></div><div class="pager__item pager__item--next"><a class="pager__link" href="/2017/04/24/best-android-apps/" rel="next"><span class="pager__subtitle">Next&thinsp;»</span><p class="pager__title">整理我所使用的 Android 应用</p></a></div></nav><section class="comments"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/disqusjs@1.2/dist/disqusjs.css"><script src="https://cdn.jsdelivr.net/npm/disqusjs@1.2/dist/disqus.js"></script><div id="disqus_thread"></div><script>function loadDisqus(){var e=document,n=e.createElement("script");n.src="https://youya.disqus.com/embed.js",n.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(n),DisqusJS({shortname:"youya",api:"https://disqus.skk.moe/disqus/",apikey:"94HuLWWDYeYGNRPmsk1KQVgmxsEKr6EYhRtJhcAQK9ucN8KyFRzuP9DunMzHuxLp",admin:"chenzhiwei"})}var runningOnBrowser="undefined"!=typeof window,isBot=runningOnBrowser&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro|msn)bot|crawl|spider|yand|duckgo/i.test(navigator.userAgent),supportsIntersectionObserver=runningOnBrowser&&"IntersectionObserver"in window;setTimeout(function(){var n;!isBot&&supportsIntersectionObserver?(n=new IntersectionObserver(function(e){e[0].isIntersecting&&(loadDisqus(),n.disconnect())},{threshold:[0]})).observe(document.getElementById("disqus_thread")):loadDisqus()},1)</script></section></div><aside class="sidebar"><div class="widget-search widget"><form class="widget-search__form" role="search" method="get" action="https://google.com/search" target="_blank"><label><input class="widget-search__field" type="search" placeholder="SEARCH..." name="q" aria-label="SEARCH..."></label> <input class="widget-search__submit" type="submit" value="Search"> <input type="hidden" name="sitesearch" value="https://youya.org"></form></div><div class="widget-related widget"><h4 class="widget__title">Related Posts</h4><div class="widget__content"><ul class="widget__list"><li class="widget__item"><a class="widget__link" href="/2017/10/22/docker-kill-signal-in-container-process/">docker kill signal in container process</a></li><li class="widget__item"><a class="widget__link" href="/2021/04/09/about-investing/">关于投资理财</a></li><li class="widget__item"><a class="widget__link" href="/2020/12/20/yoga-14s-installs-deepin-os/">联想 Yoga 14s 2021 锐龙版安装 Deepin 操作系统</a></li><li class="widget__item"><a class="widget__link" href="/2020/08/26/similar-times/">时代何其相似</a></li><li class="widget__item"><a class="widget__link" href="/2020/06/13/the-android-domestic-apps/">我目前使用的国内 Android 应用</a></li></ul></div></div><div class="widget-recent widget"><h4 class="widget__title">Recent Posts</h4><div class="widget__content"><ul class="widget__list"><li class="widget__item"><a class="widget__link" href="/2021/04/09/about-investing/">关于投资理财</a></li><li class="widget__item"><a class="widget__link" href="/2020/12/20/yoga-14s-installs-deepin-os/">联想 Yoga 14s 2021 锐龙版安装 Deepin 操作系统</a></li><li class="widget__item"><a class="widget__link" href="/2020/08/26/similar-times/">时代何其相似</a></li><li class="widget__item"><a class="widget__link" href="/2020/06/13/the-android-domestic-apps/">我目前使用的国内 Android 应用</a></li><li class="widget__item"><a class="widget__link" href="/2020/04/23/thoughts-from-old-content-platform/">由国内内容平台所想到的东西</a></li></ul></div></div><div class="widget-taglist widget"><h4 class="widget__title">Tag Cloud</h4><div class="widget__content"><a href="/tags/android/" style="font-size:26px">Android</a> <a href="/tags/apps/" style="font-size:18px">Apps</a> <a href="/tags/bank/" style="font-size:14px">Bank</a> <a href="/tags/bash/" style="font-size:14px">Bash</a> <a href="/tags/blog/" style="font-size:26px">Blog</a> <a href="/tags/comics/" style="font-size:14px">Comics</a> <a href="/tags/communication/" style="font-size:14px">Communication</a> <a href="/tags/container/" style="font-size:18px">Container</a> <a href="/tags/docker/" style="font-size:22px">Docker</a> <a href="/tags/greenify/" style="font-size:14px">Greenify</a> <a href="/tags/hexo/" style="font-size:14px">Hexo</a> <a href="/tags/icbc/" style="font-size:14px">ICBC</a> <a href="/tags/kubernetes/" style="font-size:14px">Kubernetes</a> <a href="/tags/life/" style="font-size:18px">Life</a> <a href="/tags/magisk/" style="font-size:14px">Magisk</a> <a href="/tags/mariadb/" style="font-size:14px">MariaDB</a> <a href="/tags/mysql/" style="font-size:14px">MySQL</a> <a href="/tags/nginx/" style="font-size:14px">Nginx</a> <a href="/tags/oneplus/" style="font-size:14px">OnePlus</a> <a href="/tags/php/" style="font-size:14px">PHP</a> <a href="/tags/podman/" style="font-size:14px">Podman</a> <a href="/tags/securities/" style="font-size:14px">Securities</a> <a href="/tags/shell/" style="font-size:18px">Shell</a> <a href="/tags/speaking/" style="font-size:14px">Speaking</a> <a href="/tags/stock/" style="font-size:14px">Stock</a> <a href="/tags/timeline/" style="font-size:30px">Timeline</a> <a href="/tags/ubuntu/" style="font-size:14px">Ubuntu</a> <a href="/tags/deepin/" style="font-size:14px">deepin</a> <a href="/tags/linux/" style="font-size:14px">linux</a> <a href="/tags/%E4%BF%A1%E7%94%A8%E5%8D%A1/" style="font-size:22px">信用卡</a> <a href="/tags/%E5%84%BF%E5%AD%90/" style="font-size:14px">儿子</a> <a href="/tags/%E5%9F%BA%E9%87%91/" style="font-size:22px">基金</a> <a href="/tags/%E5%AE%B9%E5%99%A8/" style="font-size:14px">容器</a> <a href="/tags/%E5%B7%A5%E4%BD%9C/" style="font-size:14px">工作</a> <a href="/tags/%E6%80%BB%E7%BB%93/" style="font-size:14px">总结</a> <a href="/tags/%E6%84%9F%E5%8F%91/" style="font-size:14px">感发</a> <a href="/tags/%E6%89%8B%E6%9C%BA/" style="font-size:14px">手机</a> <a href="/tags/%E6%96%87%E8%89%BA/" style="font-size:14px">文艺</a> <a href="/tags/%E7%90%86%E8%B4%A2/" style="font-size:22px">理财</a> <a href="/tags/%E7%94%B5%E5%BD%B1/" style="font-size:14px">电影</a> <a href="/tags/%E8%82%A1%E7%A5%A8/" style="font-size:18px">股票</a> <a href="/tags/%E8%AF%81%E5%88%B8/" style="font-size:22px">证券</a> <a href="/tags/%E8%BD%AC%E8%BD%BD/" style="font-size:14px">转载</a> <a href="/tags/%E9%87%91%E8%9E%8D/" style="font-size:22px">金融</a></div></div></aside></div><footer class="footer"><div class="container footer__container flex"><div class="footer__copyright">&copy; 2021 YOUYA.ORG. <span class="footer__copyright-credits">Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>.</span></div></div></footer></div><script src="/js/menu.js"></script></body></html>